(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{13:function(e,t,n){e.exports=n(28)},24:function(e,t,n){},27:function(e,t,n){},28:function(e,t,n){"use strict";n.r(t);var a,r=n(0),o=n.n(r),c=n(6),i=n.n(c),u=n(2),l=n(3),d=function(e){return Object(l.action)("SET_SMILEY_BUTTON",e)},f=function(e){return Object(l.action)("ON_MOUSE_ENTER",e)},s=function(e,t){return Object(l.action)("CELL_BOTH_CLICK",{x:e,y:t})},m=n(11),b=n.n(m),p=[{label:"easy",config:{mines:10,width:9,height:9}},{label:"intermediate",config:{mines:40,width:16,height:16}},{label:"expert",config:{mines:99,width:30,height:16}}],v=function(e){var t=e.split("_");return{x:parseInt(t[0],10),y:parseInt(t[1],10)}},O=function(e,t,n){return t*n+e},g=function(e){return e.difficulty},h=function(e){return e.difficulty.config},E=function(e){return h(e).width},y=function(e){return e.timeCounter},j=function(e){return e.minesCounter},L=function(e){return e.smileyButton},T=function(e){return e.mouseLeft},_=function(e){return e.mouseRight},C=function(e){return void 0!==T(e)},I=function(e){return void 0!==_(e)},M=function(e){return e.clockRunning},N=(n(24),function(){var e=Object(u.c)(g),t=Object(u.b)();return o.a.createElement("div",{className:"DS_options"},p.map(function(n){return o.a.createElement("button",{key:n.label,className:b()("DS_option",{DS_option_active:e.label===n.label}),onClick:function(){var e,a=(e=n,Object(l.action)("SET_DIFFICULTY",e));t(a)}},null===n||void 0===n?void 0:n.label)}))}),k=n(4),w=n(5),R=function(e){return"x"===e},S=function(e,t,n,a,r){var o=e*t,c=Array(o);c[O(n,a,e)]="X";for(var i=new Array(o-1),u=0;u<r;u++)i[u]="x";i=function(e){for(var t,n,a=e.length;0!==a;)n=Math.floor(Math.random()*a),t=e[a-=1],e[a]=e[n],e[n]=t;return e}(i);for(var l=0,d=0;l<o;l++)"X"!==c[l]&&(c[l]=i[d++]);for(var f=0;f<o;++f)if("x"!==c[f]){var s=K(f,e,o).map(function(e){return"x"===c[e]?1:0}).reduce(function(e,t){return e+t},0);c[f]="".concat(s)}return c};!function(e){e.blank="blank",e.pressed="pressed",e.bombflagged="bombflagged",e.bombrevealed="bombrevealed",e.bombmisflagged="bombmisflagged",e.bombdeath="bombdeath",e.open0="open0",e.open1="open1",e.open2="open2",e.open3="open3",e.open4="open4",e.open5="open5",e.open6="open6",e.open7="open7",e.open8="open8"}(a||(a={}));var x,D=function(e){return e===a.blank},B=function(e){return e.startsWith("open")},F=function(e){return e===a.bombflagged},U=function(e,t,n){for(var r=Object(w.a)(e),o=0;o<e.length;++o){var c=e[o],i=t[o];B(c)||(D(c)&&(R(i)&&(r[o]=n===o?a.bombdeath:a.bombrevealed),"0"===i&&(r[o]=a.open0),"1"===i&&(r[o]=a.open1),"2"===i&&(r[o]=a.open2),"3"===i&&(r[o]=a.open3),"4"===i&&(r[o]=a.open4),"5"===i&&(r[o]=a.open5),"6"===i&&(r[o]=a.open6),"7"===i&&(r[o]=a.open7),"8"===i&&(r[o]=a.open8)),F(c)&&(r[o]=R(i)?a.bombflagged:a.bombmisflagged))}return r},K=function(e,t,n){var a=[],r=e%t===0,o=e%t===t-1,c=e<t,i=e+t>=n;return r||a.push(e-1),o||a.push(e+1),c||(a.push(e-t),r||a.push(e-t-1),o||a.push(e-t+1)),i||(a.push(e+t),r||a.push(e+t-1),o||a.push(e+t+1)),a},H=function e(t,n,r,o){var c=Object(w.a)(t),i=n[r];if("1"===i)return c[r]=a.open1,c;if("2"===i)return c[r]=a.open2,c;if("3"===i)return c[r]=a.open3,c;if("4"===i)return c[r]=a.open4,c;if("5"===i)return c[r]=a.open5,c;if("6"===i)return c[r]=a.open6,c;if("7"===i)return c[r]=a.open7,c;if("8"===i)return c[r]=a.open8,c;if("0"===i){c[r]=a.open0;for(var u=K(r,o,t.length).filter(function(e){return D(t[e])&&("x"!==(a=n[e])&&"X"!==a);var a}),l=0;l<u.length;++l)c=e(c,n,u[l],o)}return c};!function(e){e[e.LEFT=0]="LEFT",e[e.RIGHT=1]="RIGHT",e[e.MIDDLE=2]="MIDDLE"}(x||(x={}));var P,G=function(e){return 0===e.nativeEvent.button?x.LEFT:2===e.nativeEvent.button?x.RIGHT:x.MIDDLE},Y=function(e){var t=e.x,n=e.y,r="".concat(t,"_").concat(n),c=Object(u.b)(),i=Object(u.c)(function(e,t){return function(n){return n.board[function(e,t,n){return t*n+e}(e,t,E(n))]}}(t,n)),d=Object(u.c)(function(e){return function(t){return T(t)===e}}(r)),m=Object(u.c)(I),b=Object(u.c)(C),p=Object(u.c)(function(e){return function(t){var n=_(t);if(!n)return!1;var a=v(e),r=a.x,o=a.y,c=v(n),i=c.x,u=c.y;return Math.abs(r-i)<=1&&Math.abs(o-u)<=1}}(r));return i===a.blank&&(d||b&&m&&p)&&(i=a.pressed),o.a.createElement("div",{key:r,className:"square ".concat(i),onContextMenu:function(e){e.preventDefault()},onMouseDown:function(e){var t;c((t={key:G(e),target:r},Object(l.action)("ON_MOUSE_DOWN",t))),e.stopPropagation()},onMouseUp:function(e){var a,o=G(e);c((a={key:o,target:r},Object(l.action)("ON_MOUSE_UP",a))),o===x.LEFT?c(m?s(t,n):function(e,t){return Object(l.action)("CELL_LEFT_CLICK",{x:e,y:t})}(t,n)):o===x.RIGHT&&c(b?s(t,n):function(e,t){return Object(l.action)("CELL_RIGHT_CLICK",{x:e,y:t})}(t,n)),e.stopPropagation()},onMouseOver:function(e){c(f({target:r})),e.stopPropagation()}})},A=function(){for(var e=Object(u.c)(h),t=e.height,n=e.width,a=function(e){return o.a.createElement("div",{key:e,className:"borderlr"})},r=[],c=0;c<t;++c){r.push(a("".concat(c,"-l")));for(var i=0;i<n;++i)r.push(o.a.createElement(Y,{key:"".concat(c,"-").concat(i),x:i,y:c}));r.push(a("".concat(c,"-r")))}var l=Object(k.range)(n).map(function(e){return o.a.createElement("div",{key:e,className:"bordertb"})});return o.a.createElement("div",{className:"minesweeper-board"},r,o.a.createElement("div",{className:"borderbl"}),l,o.a.createElement("div",{className:"borderbr"}))},W=function(e,t){if(1===t&&e<0)return"-";var n=Math.pow(10,3-t),a=Math.floor(Math.abs(e)/n%10);return Math.abs(a)},X=function(e){var t=e.id,n=e.value;return o.a.createElement("div",{style:{backgroundImage:"none"}},o.a.createElement("div",{className:"time".concat(W(n,1)),id:t+"_hundreds"}),o.a.createElement("div",{className:"time".concat(W(n,2)),id:t+"_tens"}),o.a.createElement("div",{className:"time".concat(W(n,3)),id:t+"_ones"}))};!function(e){e.facesmile="facesmile",e.facepressed="facepressed",e.facewin="facewin",e.facedead="facedead",e.faceooh="faceooh"}(P||(P={}));var J=function(e){var t=(16*e.width-90-26)/2;return{marginLeft:"".concat(t,"px"),marginRight:"".concat(t,"px"),marginTop:"3px",marginBottom:"3px"}},q=function(){var e=Object(u.c)(h),t=Object(u.c)(L),n=Object(u.b)();return o.a.createElement("div",{style:{backgroundImage:"none"}},o.a.createElement("div",{id:"smiley",className:t,style:J(e),onMouseDown:function(){n(d(P.facepressed))},onMouseUp:function(){t===P.facepressed&&(n(Object(l.action)("SMILEY_CLICK")),n(d(P.facesmile)))},onMouseOut:function(){var e=[P.facewin,P.facedead,P.facesmile];Object(k.includes)(e,t)||n(d(P.facesmile))}}))},z=function(){var e=Object(u.b)(),t=Object(u.c)(h),n=Object(u.c)(j),a=Object(u.c)(y),c=Object(u.c)(M),i=Object(r.useRef)(null);Object(r.useEffect)(function(){return c?i.current=setInterval(function(){e(Object(l.action)("CLOCK_TICK"))},1e3):i.current&&clearInterval(i.current),function(){i.current&&clearInterval(i.current)}},[c,e]);var d=Object(k.range)(t.width).map(function(e){return o.a.createElement("div",{key:e,className:"bordertb"})});return o.a.createElement("div",{className:"msw-header"},o.a.createElement("div",{className:"bordertl"}),d,o.a.createElement("div",{className:"bordertr"}),o.a.createElement("div",{className:"borderlrlong"}),o.a.createElement(X,{value:n,id:"mines"}),o.a.createElement(q,null),o.a.createElement(X,{value:a,id:"seconds"}),o.a.createElement("div",{className:"borderlrlong"}),o.a.createElement("div",{className:"borderjointl"}),d,o.a.createElement("div",{className:"borderjointr"}))},Q=function(e){return{width:20+16*e.width,height:30+16*e.height+32}},V=function(){var e=Object(u.c)(h);return o.a.createElement("div",{id:"game",className:"msw",style:Q(e)},o.a.createElement(z,null),o.a.createElement(A,null))},Z=function(){var e=Object(u.b)();return o.a.createElement("div",{className:"APP z100",onMouseOver:function(t){return e(f({target:"APP"}))}},o.a.createElement(N,null),o.a.createElement(V,null))},$=n(8),ee=n(12),te=n(1),ne=function(e,t){var n=e.board,a=e.mineField,r=E(e),o=n[t];if(!a||!D(o))return e;var c=a[t];if(R(c))return Object(te.a)(Object(te.a)({},e),{},{clockRunning:!1,gameEnded:!0,board:U(n,a,t),smileyButton:P.facedead});var i=H(n,a,t,r),u=function(e,t){for(var n=0;n<e.length;++n){var a=e[n],r=t[n];if(D(a)&&!R(r)||F(a)&&!R(r))return!1}return!0}(i,a);return Object(te.a)(Object(te.a)({},e),{},{board:i,gameEnded:u,clockRunning:!u,smileyButton:u?P.facewin:P.facesmile})},ae=function(){var e,t,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:p[2];return{difficulty:n,minesCounter:n.config.mines,timeCounter:0,smileyButton:P.facesmile,board:(e=n.config.width,t=n.config.height,Array(e*t).fill(a.blank)),mineField:void 0,mouseLeft:void 0,mouseMiddle:void 0,mouseRight:void 0,clockRunning:!1,gameStarted:!1,gameEnded:!1}},re=Object(l.createReducer)(ae()).handleType("SET_DIFFICULTY",function(e,t){return ae(t.payload)}).handleType("SET_MINES_COUNTER",function(e,t){return Object(te.a)(Object(te.a)({},e),{},{minesCounter:t.payload})}).handleType("SET_TIME_COUNTER",function(e,t){return Object(te.a)(Object(te.a)({},e),{},{timeCounter:t.payload})}).handleType("SET_SMILEY_BUTTON",function(e,t){return Object(te.a)(Object(te.a)({},e),{},{smileyButton:t.payload})}).handleType("ON_MOUSE_DOWN",function(e,t){return e.gameEnded?e:t.payload.key===x.LEFT?Object(te.a)(Object(te.a)({},e),{},{mouseLeft:t.payload.target,smileyButton:P.faceooh}):t.payload.key===x.MIDDLE?Object(te.a)(Object(te.a)({},e),{},{mouseMiddle:t.payload.target,smileyButton:P.faceooh}):t.payload.key===x.RIGHT?Object(te.a)(Object(te.a)({},e),{},{mouseRight:t.payload.target,smileyButton:P.faceooh}):e}).handleType("ON_MOUSE_UP",function(e,t){return e.gameEnded?e:t.payload.key===x.LEFT?Object(te.a)(Object(te.a)({},e),{},{mouseLeft:void 0,smileyButton:e.mouseRight?P.faceooh:P.facesmile}):t.payload.key===x.MIDDLE?Object(te.a)(Object(te.a)({},e),{},{mouseMiddle:void 0,smileyButton:e.mouseRight||e.mouseLeft?P.faceooh:P.facesmile}):t.payload.key===x.RIGHT?Object(te.a)(Object(te.a)({},e),{},{mouseRight:void 0,smileyButton:e.mouseLeft?P.faceooh:P.facesmile}):e}).handleType("ON_MOUSE_ENTER",function(e,t){return void 0!==e.mouseLeft&&void 0!==e.mouseRight?Object(te.a)(Object(te.a)({},e),{},{mouseLeft:t.payload.target,mouseRight:t.payload.target}):void 0!==e.mouseLeft?Object(te.a)(Object(te.a)({},e),{},{mouseLeft:t.payload.target}):void 0!==e.mouseMiddle?Object(te.a)(Object(te.a)({},e),{},{mouseMiddle:t.payload.target}):void 0!==e.mouseRight?Object(te.a)(Object(te.a)({},e),{},{mouseRight:t.payload.target}):e}).handleType("CELL_LEFT_CLICK",function(e,t){var n=e.gameEnded,a=e.gameStarted,r=e.board,o=h(e),c=o.width,i=o.height,u=o.mines;if(n)return e;var l=t.payload,d=l.x,f=l.y,s=O(d,f,c);if(!a){var m=S(c,i,d,f,u),b=H(r,m,s,c);return Object(te.a)(Object(te.a)({},e),{},{gameStarted:!0,mineField:m,clockRunning:!0,board:b})}return ne(e,s)}).handleType("CELL_RIGHT_CLICK",function(e,t){var n=e.board,r=e.minesCounter;if(e.gameEnded)return e;var o=h(e).width,c=t.payload,i=c.x,u=c.y,l=O(i,u,o),d=n[l];if(D(d)){var f=Object(w.a)(n);return f[l]=a.bombflagged,Object(te.a)(Object(te.a)({},e),{},{board:f,minesCounter:r-1})}if(F(d)){var s=Object(w.a)(n);return s[l]=a.blank,Object(te.a)(Object(te.a)({},e),{},{board:s,minesCounter:r+1})}return e}).handleType("CELL_BOTH_CLICK",function(e,t){var n=e.board,a=e.mineField;if(e.gameEnded)return e;var r=h(e).width,o=t.payload,c=o.x,i=o.y,u=O(c,i,r),l=n[u];if(!a)return e;if(B(l)){for(var d=K(u,r,n.length),f=Object(te.a)({},e),s=0;s<d.length;++s){var m=d[s];f=ne(f,m)}return f}return e}).handleType("SMILEY_CLICK",function(e){return ae(e.difficulty)}).handleType("CLOCK_TICK",function(e){return Object(te.a)(Object(te.a)({},e),{},{timeCounter:e.timeCounter+1})}),oe=Object($.b)(re,Object($.a)(ee.a));n(27);i.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(u.a,{store:oe},o.a.createElement("div",{className:"Screen"},o.a.createElement(Z,null)))),document.getElementById("root"))}},[[13,1,2]]]);
//# sourceMappingURL=main.624eb50a.chunk.js.map